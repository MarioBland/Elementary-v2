<% if user_signed_in? %>
    <% @array = @userwatsons.each do |userwatson| %>
        <% if userwatson.user_id == current_user.id %>
            <% userwatson.watson.text.truncate(1) %>
        <% end %>
    <% end.size %>
    
    <% if @array.size < 1 %>
        You have no submitted passages.
    <% else %>
    <br>
    <br>
    <div class="card">
  <div class="card-body">
        <table class="table table-striped table-dark" >
  <thead>
    <tr>
      <th scope="col" colspan="1">Watsons (Analyzed Texts)</th>
      <th scope="col">Sentiment</th>
      <th scope="col">Score</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
  <br>
    <% @userwatsons.each do |userwatson| %>
        <% if userwatson.user_id == current_user.id %>
            <tr>
                <th scope="row"><%= link_to userwatson.watson.text.truncate(100, separator: ' ', omission: '... (continued)'), watson_path(userwatson.watson), {:style=>'color:#FFFFFF;', :class => "css_class"} %></th>
                <td><%= userwatson.watson.sentiment_label.capitalize %></td>
                <td><%= number_to_percentage(userwatson.watson.sentiment_score * 100, precision: 1) %></td>
                <td>
                    <%= link_to 'Edit', edit_watson_path(userwatson.watson), :method => :get, :class => "btn btn-secondary" %> 
                    <%= link_to "Delete", delete_watson_path(userwatson.watson), method: :delete, :class => "btn btn-danger"  %>
                </td>
            </tr>
        <% end %>
    <% end %>
  </tbody>
</table>
  </div>
</div>
    <% end %>
<% end %>